var Kn=Object.defineProperty;var Zt=r=>{throw TypeError(r)};var ei=(r,e,t)=>e in r?Kn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var g=(r,e,t)=>ei(r,typeof e!="symbol"?e+"":e,t),Kt=(r,e,t)=>e.has(r)||Zt("Cannot "+t);var u=(r,e,t)=>(Kt(r,e,"read from private field"),t?t.call(r):e.get(r)),E=(r,e,t)=>e.has(r)?Zt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),w=(r,e,t,n)=>(Kt(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);import{b as ti,t as ri}from"./VGLEszQz.js";import{J as ni}from"./BQcvhzzY.js";import{_ as xr}from"./C1FmrZbK.js";function Sa(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Ia(r,e){ti(r,1,1,()=>{e.delete(r.key)})}function Aa(r,e,t,n,i,s,o,a,l,c,d,p){let y=r.length,f=s.length,m=y;const h={};for(;m--;)h[r[m].key]=m;const v=[],S=new Map,C=new Map,b=[];for(m=f;m--;){const R=p(i,s,m),N=t(R);let D=o.get(N);D?b.push(()=>D.p(R,e)):(D=c(N,R),D.c()),S.set(N,v[m]=D),N in h&&C.set(N,Math.abs(m-h[N]))}const $=new Set,j=new Set;function q(R){ri(R,1),R.m(a,d),o.set(R.key,R),d=R.first,f--}for(;y&&f;){const R=v[f-1],N=r[y-1],D=R.key,st=N.key;R===N?(d=R.first,y--,f--):S.has(st)?!o.has(D)||$.has(D)?q(R):j.has(st)?y--:C.get(D)>C.get(st)?(j.add(D),q(R)):($.add(st),y--):(l(N,o),y--)}for(;y--;){const R=r[y];S.has(R.key)||l(R,o)}for(;f;)q(v[f-1]);return ni(b),v}const Tr=!(typeof navigator>"u")&&navigator.product==="ReactNative",Or={timeout:Tr?6e4:12e4},ii=function(r){const e={...Or,...typeof r=="string"?{url:r}:r};if(e.timeout=Rr(e.timeout),e.query){const{url:t,searchParams:n}=function(i){const s=i.indexOf("?");if(s===-1)return{url:i,searchParams:new URLSearchParams};const o=i.slice(0,s),a=i.slice(s+1);if(!Tr)return{url:o,searchParams:new URLSearchParams(a)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const l=new URLSearchParams;for(const c of a.split("&")){const[d,p]=c.split("=");d&&l.append(er(d),er(p||""))}return{url:o,searchParams:l}}(e.url);for(const[i,s]of Object.entries(e.query)){if(s!==void 0)if(Array.isArray(s))for(const a of s)n.append(i,a);else n.append(i,s);const o=n.toString();o&&(e.url=`${t}?${o}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function er(r){return decodeURIComponent(r.replace(/\+/g," "))}function Rr(r){if(r===!1||r===0)return!1;if(r.connect||r.socket)return r;const e=Number(r);return isNaN(e)?Rr(Or.timeout):{connect:e,socket:e}}const si=/^https?:\/\//i,oi=function(r){if(!si.test(r.url))throw new Error(`"${r.url}" is not a valid URL`)};function jr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}const ai=["request","response","progress","error","abort"],tr=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function Pr(r,e){const t=[],n=tr.reduce((s,o)=>(s[o]=s[o]||[],s),{processOptions:[ii],validateOptions:[oi]});function i(s){const o=ai.reduce((f,m)=>(f[m]=function(){const h=Object.create(null);let v=0;return{publish:function(S){for(const C in h)h[C](S)},subscribe:function(S){const C=v++;return h[C]=S,function(){delete h[C]}}}}(),f),{}),a=(f=>function(m,h,...v){const S=m==="onError";let C=h;for(let b=0;b<f[m].length&&(C=(0,f[m][b])(C,...v),!S||C);b++);return C})(n),l=a("processOptions",s);a("validateOptions",l);const c={options:l,channels:o,applyMiddleware:a};let d;const p=o.request.subscribe(f=>{d=e(f,(m,h)=>((v,S,C)=>{let b=v,$=S;if(!b)try{$=a("onResponse",S,C)}catch(j){$=null,b=j}b=b&&a("onError",b,C),b?o.error.publish(b):$&&o.response.publish($)})(m,h,f))});o.abort.subscribe(()=>{p(),d&&d.abort()});const y=a("onReturn",o,c);return y===o&&o.request.publish(c),y}return i.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return tr.forEach(o=>{s[o]&&n[o].push(s[o])}),t.push(s),i},i.clone=()=>Pr(t,e),r.forEach(i.use),i}var rr,nr,ui=jr(function(){if(nr)return rr;nr=1;var r=function(t){return t.replace(/^\s+|\s+$/g,"")},e=function(t){return Object.prototype.toString.call(t)==="[object Array]"};return rr=function(t){if(!t)return{};for(var n=Object.create(null),i=r(t).split(`
`),s=0;s<i.length;s++){var o=i[s],a=o.indexOf(":"),l=r(o.slice(0,a)).toLowerCase(),c=r(o.slice(a+1));typeof n[l]>"u"?n[l]=c:e(n[l])?n[l].push(c):n[l]=[n[l],c]}return n}}()),Me,Le,Se,Ve,Q,Ue,Ne,$r;let Rt=($r=class{constructor(){g(this,"onabort");g(this,"onerror");g(this,"onreadystatechange");g(this,"ontimeout");g(this,"readyState",0);g(this,"response");g(this,"responseText","");g(this,"responseType","");g(this,"status");g(this,"statusText");g(this,"withCredentials");E(this,Me);E(this,Le);E(this,Se);E(this,Ve,{});E(this,Q);E(this,Ue,{});E(this,Ne)}open(e,t,n){var i;w(this,Me,e),w(this,Le,t),w(this,Se,""),this.readyState=1,(i=this.onreadystatechange)==null||i.call(this),w(this,Q,void 0)}abort(){u(this,Q)&&u(this,Q).abort()}getAllResponseHeaders(){return u(this,Se)}setRequestHeader(e,t){u(this,Ve)[e]=t}setInit(e,t=!0){w(this,Ue,e),w(this,Ne,t)}send(e){const t=this.responseType!=="arraybuffer",n={...u(this,Ue),method:u(this,Me),headers:u(this,Ve),body:e};typeof AbortController=="function"&&u(this,Ne)&&(w(this,Q,new AbortController),typeof EventTarget<"u"&&u(this,Q).signal instanceof EventTarget&&(n.signal=u(this,Q).signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(u(this,Le),n).then(i=>{var s;return i.headers.forEach((o,a)=>{w(this,Se,u(this,Se)+`${a}: ${o}\r
`)}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,(s=this.onreadystatechange)==null||s.call(this),t?i.text():i.arrayBuffer()}).then(i=>{var s;typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,(s=this.onreadystatechange)==null||s.call(this)}).catch(i=>{var s,o;i.name!=="AbortError"?(s=this.onerror)==null||s.call(this,i):(o=this.onabort)==null||o.call(this)})}},Me=new WeakMap,Le=new WeakMap,Se=new WeakMap,Ve=new WeakMap,Q=new WeakMap,Ue=new WeakMap,Ne=new WeakMap,$r);const jt=typeof XMLHttpRequest=="function"?"xhr":"fetch",ci=jt==="xhr"?XMLHttpRequest:Rt,li=(r,e)=>{const t=r.options,n=r.applyMiddleware("finalizeOptions",t),i={},s=r.applyMiddleware("interceptRequest",void 0,{adapter:jt,context:r});if(s){const h=setTimeout(e,0,null,s);return{abort:()=>clearTimeout(h)}}let o=new ci;o instanceof Rt&&typeof n.fetch=="object"&&o.setInit(n.fetch,n.useAbortSignal??!0);const a=n.headers,l=n.timeout;let c=!1,d=!1,p=!1;if(o.onerror=h=>{m(o instanceof Rt?h instanceof Error?h:new Error(`Request error while attempting to reach is ${n.url}`,{cause:h}):new Error(`Request error while attempting to reach is ${n.url}${h.lengthComputable?`(${h.loaded} of ${h.total} bytes transferred)`:""}`))},o.ontimeout=h=>{m(new Error(`Request timeout while attempting to reach ${n.url}${h.lengthComputable?`(${h.loaded} of ${h.total} bytes transferred)`:""}`))},o.onabort=()=>{f(!0),c=!0},o.onreadystatechange=function(){l&&(f(),i.socket=setTimeout(()=>y("ESOCKETTIMEDOUT"),l.socket)),!c&&o&&o.readyState===4&&o.status!==0&&function(){if(!(c||d||p)){if(o.status===0)return void m(new Error("Unknown XHR error"));f(),d=!0,e(null,{body:o.response||(o.responseType===""||o.responseType==="text"?o.responseText:""),url:n.url,method:n.method,headers:ui(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText})}}()},o.open(n.method,n.url,!0),o.withCredentials=!!n.withCredentials,a&&o.setRequestHeader)for(const h in a)a.hasOwnProperty(h)&&o.setRequestHeader(h,a[h]);return n.rawBody&&(o.responseType="arraybuffer"),r.applyMiddleware("onRequest",{options:n,adapter:jt,request:o,context:r}),o.send(n.body||null),l&&(i.connect=setTimeout(()=>y("ETIMEDOUT"),l.connect)),{abort:function(){c=!0,o&&o.abort()}};function y(h){p=!0,o.abort();const v=new Error(h==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${n.url}`:`Connection timed out on request to ${n.url}`);v.code=h,r.channels.error.publish(v)}function f(h){(h||c||o&&o.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function m(h){if(d)return;f(!0),d=!0,o=null;const v=h||new Error(`Network error while attempting to reach ${n.url}`);v.isNetworkError=!0,v.request=n,e(v)}},di=(r=[],e=li)=>Pr(r,e);var hi={},ir,sr,or,ar,ur,St={exports:{}};ur||(ur=1,function(r,e){e.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;n.splice(1,0,i,"color: inherit");let s=0,o=0;n[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(s++,a==="%c"&&(o=s))}),n.splice(o,0,i)},e.save=function(n){try{n?e.storage.setItem("debug",n):e.storage.removeItem("debug")}catch{}},e.load=function(){let n;try{n=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=hi.DEBUG),n},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),r.exports=(ar?or:(ar=1,or=function(n){function i(a){let l,c,d,p=null;function y(...f){if(!y.enabled)return;const m=y,h=Number(new Date),v=h-(l||h);m.diff=v,m.prev=l,m.curr=h,l=h,f[0]=i.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");let S=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,(C,b)=>{if(C==="%%")return"%";S++;const $=i.formatters[b];if(typeof $=="function"){const j=f[S];C=$.call(m,j),f.splice(S,1),S--}return C}),i.formatArgs.call(m,f),(m.log||i.log).apply(m,f)}return y.namespace=a,y.useColors=i.useColors(),y.color=i.selectColor(a),y.extend=s,y.destroy=i.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(c!==i.namespaces&&(c=i.namespaces,d=i.enabled(a)),d),set:f=>{p=f}}),typeof i.init=="function"&&i.init(y),y}function s(a,l){const c=i(this.namespace+(typeof l>"u"?":":l)+a);return c.log=this.log,c}function o(a,l){let c=0,d=0,p=-1,y=0;for(;c<a.length;)if(d<l.length&&(l[d]===a[c]||l[d]==="*"))l[d]==="*"?(p=d,y=c,d++):(c++,d++);else{if(p===-1)return!1;d=p+1,y++,c=y}for(;d<l.length&&l[d]==="*";)d++;return d===l.length}return i.debug=i,i.default=i,i.coerce=function(a){return a instanceof Error?a.stack||a.message:a},i.disable=function(){const a=[...i.names,...i.skips.map(l=>"-"+l)].join(",");return i.enable(""),a},i.enable=function(a){i.save(a),i.namespaces=a,i.names=[],i.skips=[];const l=(typeof a=="string"?a:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const c of l)c[0]==="-"?i.skips.push(c.slice(1)):i.names.push(c)},i.enabled=function(a){for(const l of i.skips)if(o(a,l))return!1;for(const l of i.names)if(o(a,l))return!0;return!1},i.humanize=function(){if(sr)return ir;sr=1;var a=1e3,l=60*a,c=60*l,d=24*c,p=7*d;function y(f,m,h,v){var S=m>=1.5*h;return Math.round(f/h)+" "+v+(S?"s":"")}return ir=function(f,m){m=m||{};var h,v,S=typeof f;if(S==="string"&&f.length>0)return function(C){if(!((C=String(C)).length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(C);if(b){var $=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*$;case"weeks":case"week":case"w":return $*p;case"days":case"day":case"d":return $*d;case"hours":case"hour":case"hrs":case"hr":case"h":return $*c;case"minutes":case"minute":case"mins":case"min":case"m":return $*l;case"seconds":case"second":case"secs":case"sec":case"s":return $*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return $;default:return}}}}(f);if(S==="number"&&isFinite(f))return m.long?(h=f,(v=Math.abs(h))>=d?y(h,v,d,"day"):v>=c?y(h,v,c,"hour"):v>=l?y(h,v,l,"minute"):v>=a?y(h,v,a,"second"):h+" ms"):function(C){var b=Math.abs(C);return b>=d?Math.round(C/d)+"d":b>=c?Math.round(C/c)+"h":b>=l?Math.round(C/l)+"m":b>=a?Math.round(C/a)+"s":C+"ms"}(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))}}(),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(n).forEach(a=>{i[a]=n[a]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(a){let l=0;for(let c=0;c<a.length;c++)l=(l<<5)-l+a.charCodeAt(c),l|=0;return i.colors[Math.abs(l)%i.colors.length]},i.enable(i.load()),i}))(e);const{formatters:t}=r.exports;t.j=function(n){try{return JSON.stringify(n)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}(St,St.exports)),St.exports;const fi=typeof Buffer>"u"?()=>!1:r=>Buffer.isBuffer(r);function cr(r){return Object.prototype.toString.call(r)==="[object Object]"}function pi(r){if(cr(r)===!1)return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(cr(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)}const yi=["boolean","string","number"];function mi(){return{processOptions:r=>{const e=r.body;return!e||typeof e.pipe=="function"||fi(e)||yi.indexOf(typeof e)===-1&&!Array.isArray(e)&&!pi(e)?r:Object.assign({},r,{body:JSON.stringify(r.body),headers:Object.assign({},r.headers,{"Content-Type":"application/json"})})}}}function gi(r){return{onResponse:t=>{const n=t.headers["content-type"]||"",i=n.indexOf("application/json")!==-1;return t.body&&n&&i?Object.assign({},t,{body:e(t.body)}):t},processOptions:t=>Object.assign({},t,{headers:Object.assign({Accept:"application/json"},t.headers)})};function e(t){try{return JSON.parse(t)}catch(n){throw n.message=`Failed to parsed response body as JSON: ${n.message}`,n}}}let Fe={};typeof globalThis<"u"?Fe=globalThis:typeof window<"u"?Fe=window:typeof global<"u"?Fe=global:typeof self<"u"&&(Fe=self);var vi=Fe;function bi(r={}){const e=r.implementation||vi.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(t,n)=>new e(i=>(t.error.subscribe(s=>i.error(s)),t.progress.subscribe(s=>i.next(Object.assign({type:"progress"},s))),t.response.subscribe(s=>{i.next(Object.assign({type:"response"},s)),i.complete()}),t.request.publish(n),()=>t.abort.publish()))}}function wi(){return{onRequest:r=>{if(r.adapter!=="xhr")return;const e=r.request,t=r.context;function n(i){return s=>{const o=s.lengthComputable?s.loaded/s.total*100:-1;t.channels.progress.publish({stage:i,percent:o,total:s.total,loaded:s.loaded,lengthComputable:s.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"))}}}var qr=(r,e,t)=>(t.method==="GET"||t.method==="HEAD")&&(r.isNetworkError||!1);function Ei(r){return 100*Math.pow(2,r)+100*Math.random()}const Dt=(r={})=>(e=>{const t=e.maxRetries||5,n=e.retryDelay||Ei,i=e.shouldRetry;return{onError:(s,o)=>{const a=o.options,l=a.maxRetries||t,c=a.retryDelay||n,d=a.shouldRetry||i,p=a.attemptNumber||0;if((y=a.body)!==null&&typeof y=="object"&&typeof y.pipe=="function"||!d(s,p,a)||p>=l)return s;var y;const f=Object.assign({},o,{options:Object.assign({},a,{attemptNumber:p+1})});return setTimeout(()=>o.channels.request.publish(f),c(p)),null}}})({shouldRetry:qr,...r});Dt.shouldRetry=qr;var Pt=function(r,e){return Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Pt(r,e)};function re(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pt(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Ci(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function l(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(r,e||[])).next())})}function Fr(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(d){c=[6,d],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Te(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ee(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s}function te(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))}function we(r){return this instanceof we?(this.v=r,this):new we(r)}function Si(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(y){n[y]&&(i[y]=function(f){return new Promise(function(m,h){s.push([y,f,m,h])>1||a(y,f)})})}function a(y,f){try{l(n[y](f))}catch(m){p(s[0][3],m)}}function l(y){y.value instanceof we?Promise.resolve(y.value.v).then(c,d):p(s[0][2],y)}function c(y){a("next",y)}function d(y){a("throw",y)}function p(y,f){y(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ii(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Te=="function"?Te(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(o){return new Promise(function(a,l){o=r[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function x(r){return typeof r=="function"}function kt(r){var e=function(n){Error.call(n),n.stack=new Error().stack},t=r(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var It=kt(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function ut(r,e){if(r){var t=r.indexOf(e);0<=t&&r.splice(t,1)}}var et=function(){function r(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var e,t,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Te(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(h){e={error:h}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var d=this.initialTeardown;if(x(d))try{d()}catch(h){s=h instanceof It?h.errors:[h]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var y=Te(p),f=y.next();!f.done;f=y.next()){var m=f.value;try{lr(m)}catch(h){s=s??[],h instanceof It?s=te(te([],ee(s)),ee(h.errors)):s.push(h)}}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}}if(s)throw new It(s)}},r.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)lr(e);else{if(e instanceof r){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},r.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},r.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},r.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&ut(t,e)},r.prototype.remove=function(e){var t=this._finalizers;t&&ut(t,e),e instanceof r&&e._removeParent(this)},r.EMPTY=function(){var e=new r;return e.closed=!0,e}(),r}(),Dr=et.EMPTY;function kr(r){return r instanceof et||r&&"closed"in r&&x(r.remove)&&x(r.add)&&x(r.unsubscribe)}function lr(r){x(r)?r():r.unsubscribe()}var Mr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Lr={setTimeout:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return setTimeout.apply(void 0,te([r,e],ee(t)))},clearTimeout:function(r){var e=Lr.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(r)},delegate:void 0};function Vr(r){Lr.setTimeout(function(){throw r})}function dr(){}function at(r){r()}var Mt=function(r){re(e,r);function e(t){var n=r.call(this)||this;return n.isStopped=!1,t?(n.destination=t,kr(t)&&t.add(n)):n.destination=xi,n}return e.create=function(t,n,i){return new Oe(t,n,i)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(et),Ai=Function.prototype.bind;function At(r,e){return Ai.call(r,e)}var _i=function(){function r(e){this.partialObserver=e}return r.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){ot(n)}},r.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){ot(n)}else ot(e)},r.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){ot(t)}},r}(),Oe=function(r){re(e,r);function e(t,n,i){var s=r.call(this)||this,o;if(x(t)||!t)o={next:t??void 0,error:n??void 0,complete:i??void 0};else{var a;s&&Mr.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=function(){return s.unsubscribe()},o={next:t.next&&At(t.next,a),error:t.error&&At(t.error,a),complete:t.complete&&At(t.complete,a)}):o=t}return s.destination=new _i(o),s}return e}(Mt);function ot(r){Vr(r)}function $i(r){throw r}var xi={closed:!0,next:dr,error:$i,complete:dr},Lt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function vt(r){return r}function Ti(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Ur(r)}function Ur(r){return r.length===0?vt:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}var O=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this,s=Ri(e)?e:new Oe(e,t,n);return at(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var n=this;return t=hr(t),new t(function(i,s){var o=new Oe({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[Lt]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ur(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=hr(e),new e(function(n,i){var s;t.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},r.create=function(e){return new r(e)},r}();function hr(r){var e;return(e=r??Mr.Promise)!==null&&e!==void 0?e:Promise}function Oi(r){return r&&x(r.next)&&x(r.error)&&x(r.complete)}function Ri(r){return r&&r instanceof Mt||Oi(r)&&kr(r)}function ji(r){return x(r==null?void 0:r.lift)}function z(r){return function(e){if(ji(e))return e.lift(function(t){try{return r(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(r,e,t,n,i){return new Pi(r,e,t,n,i)}var Pi=function(r){re(e,r);function e(t,n,i,s,o,a){var l=r.call(this,t)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=n?function(c){try{n(c)}catch(d){t.error(d)}}:r.prototype._next,l._error=s?function(c){try{s(c)}catch(d){t.error(d)}finally{this.unsubscribe()}}:r.prototype._error,l._complete=i?function(){try{i()}catch(c){t.error(c)}finally{this.unsubscribe()}}:r.prototype._complete,l}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;r.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(Mt),qi=kt(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Vt=function(r){re(e,r);function e(){var t=r.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var n=new fr(this,this);return n.operator=t,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new qi},e.prototype.next=function(t){var n=this;at(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=Te(n.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(t)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var n=this;at(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var i=n.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;at(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var n=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?Dr:(this.currentObservers=null,a.push(t),new et(function(){n.currentObservers=null,ut(a,t)}))},e.prototype._checkFinalizedStatuses=function(t){var n=this,i=n.hasError,s=n.thrownError,o=n.isStopped;i?t.error(s):o&&t.complete()},e.prototype.asObservable=function(){var t=new O;return t.source=this,t},e.create=function(t,n){return new fr(t,n)},e}(O),fr=function(r){re(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)},e.prototype.error=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)},e.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},e.prototype._subscribe=function(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:Dr},e}(Vt),Ut={now:function(){return(Ut.delegate||Date).now()},delegate:void 0},Fi=function(r){re(e,r);function e(t,n,i){t===void 0&&(t=1/0),n===void 0&&(n=1/0),i===void 0&&(i=Ut);var s=r.call(this)||this;return s._bufferSize=t,s._windowTime=n,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=n===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,n),s}return e.prototype.next=function(t){var n=this,i=n.isStopped,s=n._buffer,o=n._infiniteTimeWindow,a=n._timestampProvider,l=n._windowTime;i||(s.push(t),!o&&s.push(a.now()+l)),this._trimBuffer(),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(t),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),l=0;l<a.length&&!t.closed;l+=s?1:2)t.next(a[l]);return this._checkFinalizedStatuses(t),n},e.prototype._trimBuffer=function(){var t=this,n=t._bufferSize,i=t._timestampProvider,s=t._buffer,o=t._infiniteTimeWindow,a=(o?1:2)*n;if(n<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var l=i.now(),c=0,d=1;d<s.length&&s[d]<=l;d+=2)c=d;c&&s.splice(0,c+1)}},e}(Vt),Di=function(r){re(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return this},e}(et),pr={setInterval:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return setInterval.apply(void 0,te([r,e],ee(t)))},clearInterval:function(r){return clearInterval(r)},delegate:void 0},ki=function(r){re(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(t,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=t;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),pr.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&pr.clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var i=!1,s;try{this.work(t)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,n=t.id,i=t.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,ut(s,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},e}(Di),yr=function(){function r(e,t){t===void 0&&(t=r.now),this.schedulerActionCtor=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},r.now=Ut.now,r}(),Mi=function(r){re(e,r);function e(t,n){n===void 0&&(n=yr.now);var i=r.call(this,t,n)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(t){var n=this.actions;if(this._active){n.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},e}(yr),Li=new Mi(ki),Vi=Li,Ui=new O(function(r){return r.complete()});function Ni(r){return r&&x(r.schedule)}function Nt(r){return r[r.length-1]}function Bi(r){return x(Nt(r))?r.pop():void 0}function Bt(r){return Ni(Nt(r))?r.pop():void 0}function Wi(r,e){return typeof Nt(r)=="number"?r.pop():e}var Nr=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function Br(r){return x(r==null?void 0:r.then)}function Wr(r){return x(r[Lt])}function zr(r){return Symbol.asyncIterator&&x(r==null?void 0:r[Symbol.asyncIterator])}function Hr(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function zi(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gr=zi();function Qr(r){return x(r==null?void 0:r[Gr])}function Jr(r){return Si(this,arguments,function(){var t,n,i,s;return Fr(this,function(o){switch(o.label){case 0:t=r.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,we(t.read())];case 3:return n=o.sent(),i=n.value,s=n.done,s?[4,we(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,we(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Yr(r){return x(r==null?void 0:r.getReader)}function H(r){if(r instanceof O)return r;if(r!=null){if(Wr(r))return Hi(r);if(Nr(r))return Gi(r);if(Br(r))return Qi(r);if(zr(r))return Xr(r);if(Qr(r))return Ji(r);if(Yr(r))return Yi(r)}throw Hr(r)}function Hi(r){return new O(function(e){var t=r[Lt]();if(x(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Gi(r){return new O(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}function Qi(r){return new O(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,Vr)})}function Ji(r){return new O(function(e){var t,n;try{for(var i=Te(r),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){t={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}e.complete()})}function Xr(r){return new O(function(e){Xi(r,e).catch(function(t){return e.error(t)})})}function Yi(r){return Xr(Jr(r))}function Xi(r,e){var t,n,i,s;return Ci(this,void 0,void 0,function(){var o,a;return Fr(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),t=Ii(r),l.label=1;case 1:return[4,t.next()];case 2:if(n=l.sent(),!!n.done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(s=t.return)?[4,s.call(t)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ye(r,e,t,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var s=e.schedule(function(){t(),i?r.add(this.schedule(null,n)):this.unsubscribe()},n);if(r.add(s),!i)return s}function Zr(r,e){return e===void 0&&(e=0),z(function(t,n){t.subscribe(ue(n,function(i){return ye(n,r,function(){return n.next(i)},e)},function(){return ye(n,r,function(){return n.complete()},e)},function(i){return ye(n,r,function(){return n.error(i)},e)}))})}function Kr(r,e){return e===void 0&&(e=0),z(function(t,n){n.add(r.schedule(function(){return t.subscribe(n)},e))})}function Zi(r,e){return H(r).pipe(Kr(e),Zr(e))}function Ki(r,e){return H(r).pipe(Kr(e),Zr(e))}function es(r,e){return new O(function(t){var n=0;return e.schedule(function(){n===r.length?t.complete():(t.next(r[n++]),t.closed||this.schedule())})})}function ts(r,e){return new O(function(t){var n;return ye(t,e,function(){n=r[Gr](),ye(t,e,function(){var i,s,o;try{i=n.next(),s=i.value,o=i.done}catch(a){t.error(a);return}o?t.complete():t.next(s)},0,!0)}),function(){return x(n==null?void 0:n.return)&&n.return()}})}function en(r,e){if(!r)throw new Error("Iterable cannot be null");return new O(function(t){ye(t,e,function(){var n=r[Symbol.asyncIterator]();ye(t,e,function(){n.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function rs(r,e){return en(Jr(r),e)}function ns(r,e){if(r!=null){if(Wr(r))return Zi(r,e);if(Nr(r))return es(r,e);if(Br(r))return Ki(r,e);if(zr(r))return en(r,e);if(Qr(r))return ts(r,e);if(Yr(r))return rs(r,e)}throw Hr(r)}function tt(r,e){return e?ns(r,e):H(r)}function Ee(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Bt(r);return tt(r,t)}function tn(r,e){var t=x(r)?r:function(){return r},n=function(i){return i.error(t())};return new O(n)}function is(r){return!!r&&(r instanceof O||x(r.lift)&&x(r.subscribe))}var rn=kt(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});function I(r,e){return new Promise(function(t,n){var i=!1,s;r.subscribe({next:function(o){s=o,i=!0},error:n,complete:function(){i?t(s):n(new rn)}})})}function _t(r,e){return new Promise(function(t,n){var i=new Oe({next:function(s){t(s),i.unsubscribe()},error:n,complete:function(){n(new rn)}});r.subscribe(i)})}function ss(r){return r instanceof Date&&!isNaN(r)}function F(r,e){return z(function(t,n){var i=0;t.subscribe(ue(n,function(s){n.next(r.call(e,s,i++))}))})}var os=Array.isArray;function as(r,e){return os(e)?r.apply(void 0,te([],ee(e))):r(e)}function us(r){return F(function(e){return as(r,e)})}function cs(r,e,t){return t===void 0&&(t=vt),function(n){mr(e,function(){for(var i=r.length,s=new Array(i),o=i,a=i,l=function(d){mr(e,function(){var p=tt(r[d],e),y=!1;p.subscribe(ue(n,function(f){s[d]=f,y||(y=!0,a--),a||n.next(t(s.slice()))},function(){--o||n.complete()}))},n)},c=0;c<i;c++)l(c)})}}function mr(r,e,t){e()}function ls(r,e,t,n,i,s,o,a){var l=[],c=0,d=0,p=!1,y=function(){p&&!l.length&&!c&&e.complete()},f=function(h){return c<n?m(h):l.push(h)},m=function(h){c++;var v=!1;H(t(h,d++)).subscribe(ue(e,function(S){e.next(S)},function(){v=!0},void 0,function(){if(v)try{c--;for(var S=function(){var C=l.shift();o||m(C)};l.length&&c<n;)S();y()}catch(C){e.error(C)}}))};return r.subscribe(ue(e,f,function(){p=!0,y()})),function(){}}function me(r,e,t){return t===void 0&&(t=1/0),x(e)?me(function(n,i){return F(function(s,o){return e(n,s,i,o)})(H(r(n,i)))},t):(typeof e=="number"&&(t=e),z(function(n,i){return ls(n,i,r,t)}))}function nn(r){return r===void 0&&(r=1/0),me(vt,r)}function ds(){return nn(1)}function hs(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return ds()(tt(r,Bt(r)))}function sn(r){return new O(function(e){H(r()).subscribe(e)})}function fs(r,e,t){return t===void 0&&(t=Vi),new O(function(n){var i=ss(r)?+r-t.now():r;i<0&&(i=0);var s=0;return t.schedule(function(){n.closed||(n.next(s++),n.complete())},i)})}function ps(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Bt(r),n=Wi(r,1/0),i=r;return i.length?i.length===1?H(i[0]):nn(n)(tt(i,t)):Ui}var ys=Array.isArray;function ms(r){return r.length===1&&ys(r[0])?r[0]:r}function qe(r,e){return z(function(t,n){var i=0;t.subscribe(ue(n,function(s){return r.call(e,s,i++)&&n.next(s)}))})}function ct(r){return z(function(e,t){var n=null,i=!1,s;n=e.subscribe(ue(t,void 0,void 0,function(o){s=H(r(o,ct(r)(e))),n?(n.unsubscribe(),n=null,s.subscribe(t)):i=!0})),i&&(n.unsubscribe(),n=null,s.subscribe(t))})}function on(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Bi(r);return t?Ti(on.apply(void 0,te([],ee(r))),us(t)):z(function(n,i){cs(te([n],ee(ms(r))))(i)})}function gs(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return on.apply(void 0,te([],ee(r)))}function an(r){return z(function(e,t){try{e.subscribe(t)}finally{t.add(r)}})}function un(r){r===void 0&&(r={});var e=r.connector,t=e===void 0?function(){return new Vt}:e,n=r.resetOnError,i=n===void 0?!0:n,s=r.resetOnComplete,o=s===void 0?!0:s,a=r.resetOnRefCountZero,l=a===void 0?!0:a;return function(c){var d,p,y,f=0,m=!1,h=!1,v=function(){p==null||p.unsubscribe(),p=void 0},S=function(){v(),d=y=void 0,m=h=!1},C=function(){var b=d;S(),b==null||b.unsubscribe()};return z(function(b,$){f++,!h&&!m&&v();var j=y=y??t();$.add(function(){f--,f===0&&!h&&!m&&(p=$t(C,l))}),j.subscribe($),!d&&f>0&&(d=new Oe({next:function(q){return j.next(q)},error:function(q){h=!0,v(),p=$t(S,i,q),j.error(q)},complete:function(){m=!0,v(),p=$t(S,o),j.complete()}}),H(b).subscribe(d))})(c)}}function $t(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(e===!0){r();return}if(e!==!1){var i=new Oe({next:function(){i.unsubscribe(),r()}});return H(e.apply(void 0,te([],ee(t)))).subscribe(i)}}function vs(r,e,t){var n,i=!1;return n=r,un({connector:function(){return new Fi(n,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function bs(r,e,t){var n=x(r)||e||t?{next:r,error:e,complete:t}:r;return n?z(function(i,s){var o;(o=n.subscribe)===null||o===void 0||o.call(n);var a=!0;i.subscribe(ue(s,function(l){var c;(c=n.next)===null||c===void 0||c.call(n,l),s.next(l)},function(){var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),s.complete()},function(l){var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),s.error(l)},function(){var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):vt}function cn(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}var ln={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},Wt={0:8203,1:8204,2:8205,3:65279},ws=new Array(4).fill(String.fromCodePoint(Wt[0])).join("");function Es(r){let e=JSON.stringify(r);return`${ws}${Array.from(e).map(t=>{let n=t.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${t} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(Wt[i])).join("")}).join("")}`}function Cs(r){return!Number.isNaN(Number(r))||/[a-z]/i.test(r)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(r)?!1:!!Date.parse(r)}function Ss(r){try{new URL(r,r.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function $a(r,e,t="auto"){return t===!0||t==="auto"&&(Cs(r)||Ss(r))?r:`${r}${Es(e)}`}Object.fromEntries(Object.entries(Wt).map(r=>r.reverse()));Object.fromEntries(Object.entries(ln).map(r=>r.reverse()));var Is=`${Object.values(ln).map(r=>`\\u{${r.toString(16)}}`).join("")}`,gr=new RegExp(`[${Is}]{4,}`,"gu");function As(r){var e;return{cleaned:r.replace(gr,""),encoded:((e=r.match(gr))==null?void 0:e[0])||""}}function _s(r){return r&&JSON.parse(As(JSON.stringify(r)).cleaned)}function $s(r){return _s(r)}const xs="drafts",Ts="versions",Re=".",lt=`${xs}${Re}`,dn=`${Ts}${Re}`;function bt(r){return r.startsWith(lt)}function wt(r){return r.startsWith(dn)}function hn(r){if(wt(r)){const e=Et(r);return lt+e}return bt(r)?r:lt+r}function rt(r,e){if(e==="drafts"||e==="published")throw new Error('Version can not be "published" or "drafts"');return`${dn}${e}${Re}${Et(r)}`}function fn(r){if(!wt(r))return;const[e,t,...n]=r.split(Re);return t}function Et(r){return wt(r)?r.split(Re).slice(2).join(Re):bt(r)?r.slice(lt.length):r}let Os=r=>crypto.getRandomValues(new Uint8Array(r)),Rs=(r,e,t)=>{let n=(2<<Math.log(r.length-1)/Math.LN2)-1,i=-~(1.6*n*e/r.length);return(s=e)=>{let o="";for(;;){let a=t(i),l=i|0;for(;l--;)if(o+=r[a[l]&n]||"",o.length===s)return o}}},js=(r,e=21)=>Rs(r,e,Os);const vr=/\r\n|[\n\r\u2028\u2029]/;function Ps(r,e,t){const n=r.split(vr),i={start:br(e.start,n),end:e.end?br(e.end,n):void 0},{start:s,end:o,markerLines:a}=qs(i,n),l=`${o}`.length;return r.split(vr,o).slice(s,o).map((c,d)=>{const p=s+1+d,y=` ${` ${p}`.slice(-l)} |`,f=a[p],m=!a[p+1];if(!f)return` ${y}${c.length>0?` ${c}`:""}`;let h="";if(Array.isArray(f)){const v=c.slice(0,Math.max(f[0]-1,0)).replace(/[^\t]/g," "),S=f[1]||1;h=[`
 `,y.replace(/\d/g," ")," ",v,"^".repeat(S)].join(""),m&&t&&(h+=" "+t)}return[">",y,c.length>0?` ${c}`:"",h].join("")}).join(`
`)}function qs(r,e){const t={...r.start},n={...t,...r.end},i=2,s=3,o=t.line??-1,a=t.column??0,l=n.line,c=n.column;let d=Math.max(o-(i+1),0),p=Math.min(e.length,l+s);o===-1&&(d=0),l===-1&&(p=e.length);const y=l-o,f={};if(y)for(let m=0;m<=y;m++){const h=m+o;if(!a)f[h]=!0;else if(m===0){const v=e[h-1].length;f[h]=[a,v-a+1]}else if(m===y)f[h]=[0,c];else{const v=e[h-m].length;f[h]=[0,v]}}else a===c?a?f[o]=[a,0]:f[o]=!0:f[o]=[a,c-a];return{start:d,end:p,markerLines:f}}function br(r,e){var n;let t=0;for(let i=0;i<e.length;i++){const s=e[i].length+1;if(t+s>r)return{line:i+1,column:r-t};t+=s}return{line:e.length,column:((n=e[e.length-1])==null?void 0:n.length)??0}}const xt=5;class Fs extends Error{constructor(t,n){const i=pn(t,n);super(i.message);g(this,"response");g(this,"statusCode",400);g(this,"responseBody");g(this,"details");Object.assign(this,i)}}class Ds extends Error{constructor(t){const n=pn(t);super(n.message);g(this,"response");g(this,"statusCode",500);g(this,"responseBody");g(this,"details");Object.assign(this,n)}}function pn(r,e){var s,o;const t=r.body,n={response:r,statusCode:r.statusCode,responseBody:Ls(t,r),message:"",details:void 0};if(!cn(t))return n.message=Tt(r,t),n;const i=t.error;if(typeof i=="string"&&typeof t.message=="string")return n.message=`${i} - ${t.message}`,n;if(typeof i!="object"||i===null)return typeof i=="string"?n.message=i:typeof t.message=="string"?n.message=t.message:n.message=Tt(r,t),n;if(ks(i)||Ms(i)){const a=i.items||[],l=a.slice(0,xt).map(d=>{var p;return(p=d.error)==null?void 0:p.description}).filter(Boolean);let c=l.length?`:
- ${l.join(`
- `)}`:"";return a.length>xt&&(c+=`
...and ${a.length-xt} more`),n.message=`${i.description}${c}`,n.details=t.error,n}if(yn(i)){const a=(o=(s=e==null?void 0:e.options)==null?void 0:s.query)==null?void 0:o.tag;return n.message=mn(i,a),n.details=t.error,n}return"description"in i&&typeof i.description=="string"?(n.message=i.description,n.details=i,n):(n.message=Tt(r,t),n)}function ks(r){return"type"in r&&r.type==="mutationError"&&"description"in r&&typeof r.description=="string"}function Ms(r){return"type"in r&&r.type==="actionError"&&"description"in r&&typeof r.description=="string"}function yn(r){return cn(r)&&r.type==="queryParseError"&&typeof r.query=="string"&&typeof r.start=="number"&&typeof r.end=="number"}function mn(r,e){const{query:t,start:n,end:i,description:s}=r;if(!t||typeof n>"u")return`GROQ query parse error: ${s}`;const o=e?`

Tag: ${e}`:"";return`GROQ query parse error:
${Ps(t,{start:n,end:i},s)}${o}`}function Tt(r,e){const t=typeof e=="string"?` (${Vs(e,100)})`:"",n=r.statusMessage?` ${r.statusMessage}`:"";return`${r.method}-request to ${r.url} resulted in HTTP ${r.statusCode}${n}${t}`}function Ls(r,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(r,null,2):r}function Vs(r,e){return r.length>e?`${r.slice(0,e)}â€¦`:r}class Us extends Error{constructor({projectId:t}){super("CorsOriginError");g(this,"projectId");g(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=t;const n=new URL(`https://sanity.io/manage/project/${t}/api`);if(typeof location<"u"){const{origin:i}=location;n.searchParams.set("cors","add"),n.searchParams.set("origin",i),this.addOriginUrl=n,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${n}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${n}`}}const Ns={onResponse:(r,e)=>{if(r.statusCode>=500)throw new Ds(r);if(r.statusCode>=400)throw new Fs(r,e);return r}};function Bs(r={}){const e={},t=n=>r.ignoreWarnings===void 0?!1:(Array.isArray(r.ignoreWarnings)?r.ignoreWarnings:[r.ignoreWarnings]).some(i=>typeof i=="string"?n.includes(i):i instanceof RegExp?i.test(n):!1);return{onResponse:n=>{const i=n.headers["x-sanity-warning"],s=Array.isArray(i)?i:[i];for(const o of s)!o||e[o]||t(o)||(e[o]=!0,console.warn(o));return n}}}function wr(r,e={}){return di([Dt({shouldRetry:Ws}),...r,Bs(e),mi(),gi(),wi(),Ns,bi({implementation:O})])}function Ws(r,e,t){if(t.maxRetries===0)return!1;const n=t.method==="GET"||t.method==="HEAD",i=(t.uri||t.url).startsWith("/data/query"),s=r.response&&(r.response.statusCode===429||r.response.statusCode===502||r.response.statusCode===503);return(n||i)&&s?!0:Dt.shouldRetry(r,e,t)}const zs="https://www.sanity.io/help/";function zt(r){return zs+r}const Er=["image","file"],Cr=["before","after","replace"],gn=r=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(r))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Hs=r=>{if(!/^[-a-z0-9]+$/i.test(r))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Gs=r=>{if(Er.indexOf(r)===-1)throw new Error(`Invalid asset type: ${r}. Must be one of ${Er.join(", ")}`)},De=(r,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${r}() takes an object of properties`)},dt=(r,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${r}(): "${e}" is not a valid document ID`)},je=(r,e)=>{if(!e._id)throw new Error(`${r}() requires that the document contains an ID ("_id" property)`);dt(r,e._id)},Qs=(r,e)=>{if(typeof e!="string")throw new Error(`\`${r}()\`: \`${e}\` is not a valid document type`)},vn=(r,e)=>{if(!e._type)throw new Error(`\`${r}()\` requires that the document contains a type (\`_type\` property)`);Qs(r,e._type)},Js=(r,e)=>{if(e._id&&e._id!==r)throw new Error(`The provided document ID (\`${e._id}\`) does not match the generated version ID (\`${r}\`)`)},Ys=(r,e,t)=>{const n="insert(at, selector, items)";if(Cr.indexOf(r)===-1){const i=Cr.map(s=>`"${s}"`).join(", ");throw new Error(`${n} takes an "at"-argument which is one of: ${i}`)}if(typeof e!="string")throw new Error(`${n} takes a "selector"-argument which must be a string`);if(!Array.isArray(t))throw new Error(`${n} takes an "items"-argument which must be an array`)},ve=r=>{if(!r.dataset)throw new Error("`dataset` must be provided to perform queries");return r.dataset||""},bn=r=>{if(typeof r!="string"||!/^[a-z0-9._-]{1,75}$/i.test(r))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return r},wn=r=>{if(!r["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:t}=r["~experimental_resource"];switch(e){case"dataset":{if(t.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},le=(r,e)=>{if(e["~experimental_resource"])throw new Error(`\`${r}\` does not support resource-based operations`)};function Xs(r){let e=!1,t;return(...n)=>(e||(t=r(...n),e=!0),t)}const ce=r=>Xs((...e)=>console.warn(r.join(" "),...e)),Zs=ce(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),Ks=ce(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),eo=ce(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),to=ce(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),ro=ce(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${zt("js-client-browser-token")} for more information and how to hide this warning.`]),no=ce(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),io=ce(["Using the Sanity client without specifying an API version is deprecated.",`See ${zt("js-client-api-version")}`]),so=ce(["You have called `createVersion()` with a defined `document`. The recommended approach is to provide a `baseId` and `releaseId` instead."]),oo="apicdn.sanity.io",ke={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},ao=["localhost","127.0.0.1","0.0.0.0"],uo=r=>ao.indexOf(r)!==-1;function co(r){if(r==="1"||r==="X")return;const e=new Date(r);if(!(/^\d{4}-\d{2}-\d{2}$/.test(r)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function En(r){if(Array.isArray(r)&&r.length>1&&r.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const Cn=(r,e)=>{const t={...e,...r,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||ke.stega,...typeof r.stega=="boolean"?{enabled:r.stega}:r.stega||{}}};t.apiVersion||io();const n={...ke,...t},i=n.useProjectHostname&&!n["~experimental_resource"];if(typeof Promise>"u"){const y=zt("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${y}`)}if(i&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(n["~experimental_resource"]&&wn(n),typeof n.perspective<"u"&&En(n.perspective),"encodeSourceMap"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof n.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${n.stega.enabled}`);if(n.stega.enabled&&n.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(n.stega.enabled&&typeof n.stega.studioUrl!="string"&&typeof n.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${n.stega.studioUrl}`);const s=typeof window<"u"&&window.location&&window.location.hostname,o=s&&uo(window.location.hostname),a=!!n.token;n.withCredentials&&a&&(no(),n.withCredentials=!1),s&&o&&a&&n.ignoreBrowserTokenWarning!==!0?ro():typeof n.useCdn>"u"&&Ks(),i&&Hs(n.projectId),n.dataset&&gn(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?bn(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion=`${n.apiVersion}`.replace(/^v/,""),n.isDefaultApi=n.apiHost===ke.apiHost,n.useCdn===!0&&n.withCredentials&&Zs(),n.useCdn=n.useCdn!==!1&&!n.withCredentials,co(n.apiVersion);const l=n.apiHost.split("://",2),c=l[0],d=l[1],p=n.isDefaultApi?oo:d;return i?(n.url=`${c}://${n.projectId}.${d}/v${n.apiVersion}`,n.cdnUrl=`${c}://${n.projectId}.${p}/v${n.apiVersion}`):(n.url=`${n.apiHost}/v${n.apiVersion}`,n.cdnUrl=n.url),n};class Sn extends Error{constructor(){super(...arguments);g(this,"name","ConnectionFailedError")}}class lo extends Error{constructor(t,n,i={}){super(t,i);g(this,"name","DisconnectError");g(this,"reason");this.reason=n}}class ho extends Error{constructor(t,n){super(t);g(this,"name","ChannelError");g(this,"data");this.data=n}}class fo extends Error{constructor(t,n,i={}){super(t,i);g(this,"name","MessageError");g(this,"data");this.data=n}}class Sr extends Error{constructor(){super(...arguments);g(this,"name","MessageParseError")}}const po=["channelError","disconnect"];function In(r,e){return sn(()=>{const t=r();return is(t)?t:Ee(t)}).pipe(me(t=>yo(t,e)))}function yo(r,e){return new O(t=>{const n=e.includes("open"),i=e.includes("reconnect");function s(c){if("data"in c){const[d,p]=Ir(c);t.error(d?new Sr("Unable to parse EventSource error message",{cause:p}):new fo((p==null?void 0:p.data).message,p));return}r.readyState===r.CLOSED?t.error(new Sn("EventSource connection failed")):i&&t.next({type:"reconnect"})}function o(){t.next({type:"open"})}function a(c){var y;const[d,p]=Ir(c);if(d){t.error(new Sr("Unable to parse EventSource message",{cause:d}));return}if(c.type==="channelError"){const f=new URL(r.url).searchParams.get("tag");t.error(new ho(mo(p==null?void 0:p.data,f),p.data));return}if(c.type==="disconnect"){t.error(new lo(`Server disconnected client: ${((y=p.data)==null?void 0:y.reason)||"unknown error"}`));return}t.next({type:c.type,id:c.lastEventId,...p.data?{data:p.data}:{}})}r.addEventListener("error",s),n&&r.addEventListener("open",o);const l=[...new Set([...po,...e])].filter(c=>c!=="error"&&c!=="open"&&c!=="reconnect");return l.forEach(c=>r.addEventListener(c,a)),()=>{r.removeEventListener("error",s),n&&r.removeEventListener("open",o),l.forEach(c=>r.removeEventListener(c,a)),r.close()}})}function Ir(r){try{const e=typeof r.data=="string"&&JSON.parse(r.data);return[null,{type:r.type,id:r.lastEventId,...go(e)?{}:{data:e}}]}catch(e){return[e,null]}}function mo(r,e){const t=r.error;return t?yn(t)?mn(t,e):t.description?t.description:typeof t=="string"?t:JSON.stringify(t,null,2):r.message||"Unknown listener error"}function go(r){for(const e in r)return!1;return!0}function An(r){if(typeof r=="string")return{id:r};if(Array.isArray(r))return{query:"*[_id in $ids]",params:{ids:r}};if(typeof r=="object"&&r!==null&&"query"in r&&typeof r.query=="string")return"params"in r&&typeof r.params=="object"&&r.params!==null?{query:r.query,params:r.params}:{query:r.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}class _n{constructor(e,t={}){g(this,"selection");g(this,"operations");this.selection=e,this.operations=t}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return De("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,t,n){return Ys(e,t,n),this._assign("insert",{[e]:t,items:n})}append(e,t){return this.insert("after",`${e}[-1]`,t)}prepend(e,t){return this.insert("before",`${e}[0]`,t)}splice(e,t,n,i){const s=typeof n>"u"||n===-1,o=t<0?t-1:t,a=s?-1:Math.max(0,t+n),l=o<0&&a>=0?"":a,c=`${e}[${o}:${l}]`;return this.insert("replace",c,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...An(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,t,n=!0){return De(e,t),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},t)}),this}_set(e,t){return this._assign(e,t,!1)}}var de;const Qt=class Qt extends _n{constructor(t,n,i){super(t,n);E(this,de);w(this,de,i)}clone(){return new Qt(this.selection,{...this.operations},u(this,de))}commit(t){if(!u(this,de))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",i=Object.assign({returnFirst:n,returnDocuments:!0},t);return u(this,de).mutate({patch:this.serialize()},i)}};de=new WeakMap;let ge=Qt;var he;const Jt=class Jt extends _n{constructor(t,n,i){super(t,n);E(this,he);w(this,he,i)}clone(){return new Jt(this.selection,{...this.operations},u(this,he))}commit(t){if(!u(this,he))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",i=Object.assign({returnFirst:n,returnDocuments:!0},t);return u(this,he).mutate({patch:this.serialize()},i)}};he=new WeakMap;let ae=Jt;const $n={returnDocuments:!1};class xn{constructor(e=[],t){g(this,"operations");g(this,"trxId");this.operations=e,this.trxId=t}create(e){return De("create",e),this._add({create:e})}createIfNotExists(e){const t="createIfNotExists";return De(t,e),je(t,e),this._add({[t]:e})}createOrReplace(e){const t="createOrReplace";return De(t,e),je(t,e),this._add({[t]:e})}delete(e){return dt("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}var J;const Yt=class Yt extends xn{constructor(t,n,i){super(t,i);E(this,J);w(this,J,n)}clone(){return new Yt([...this.operations],u(this,J),this.trxId)}commit(t){if(!u(this,J))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return u(this,J).mutate(this.serialize(),Object.assign({transactionId:this.trxId},$n,t||{}))}patch(t,n){const i=typeof n=="function",s=typeof t!="string"&&t instanceof ae,o=typeof t=="object"&&("query"in t||"id"in t);if(s)return this._add({patch:t.serialize()});if(i){const a=n(new ae(t,{},u(this,J)));if(!(a instanceof ae))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:a.serialize()})}if(o){const a=new ae(t,n||{},u(this,J));return this._add({patch:a.serialize()})}return this._add({patch:{id:t,...n}})}};J=new WeakMap;let ht=Yt;var ne;const Xt=class Xt extends xn{constructor(t,n,i){super(t,i);E(this,ne);w(this,ne,n)}clone(){return new Xt([...this.operations],u(this,ne),this.trxId)}commit(t){if(!u(this,ne))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return u(this,ne).mutate(this.serialize(),Object.assign({transactionId:this.trxId},$n,t||{}))}patch(t,n){const i=typeof n=="function";if(typeof t!="string"&&t instanceof ge)return this._add({patch:t.serialize()});if(i){const s=n(new ge(t,{},u(this,ne)));if(!(s instanceof ge))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:s.serialize()})}return this._add({patch:{id:t,...n}})}};ne=new WeakMap;let ft=Xt;const vo="X-Sanity-Project-ID";function bo(r,e={}){const t={};r.headers&&Object.assign(t,r.headers);const n=e.token||r.token;n&&(t.Authorization=`Bearer ${n}`),!e.useGlobalApi&&!r.useProjectHostname&&r.projectId&&(t[vo]=r.projectId);const i=!!(typeof e.withCredentials>"u"?r.withCredentials:e.withCredentials),s=typeof e.timeout>"u"?r.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},t,e.headers||{}),timeout:typeof s>"u"?5*60*1e3:s,proxy:e.proxy||r.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof r.fetch=="object"?{...r.fetch,...e.fetch}:e.fetch||r.fetch})}const Tn=({query:r,params:e={},options:t={}})=>{const n=new URLSearchParams,{tag:i,includeMutations:s,returnQuery:o,...a}=t;i&&n.append("tag",i),n.append("query",r);for(const[l,c]of Object.entries(e))c!==void 0&&n.append(`$${l}`,JSON.stringify(c));for(const[l,c]of Object.entries(a))c&&n.append(l,`${c}`);return o===!1&&n.append("returnQuery","false"),s===!1&&n.append("includeMutations","false"),`?${n}`},wo=(r,e)=>r===!1?void 0:typeof r>"u"?e:r,Eo=(r={})=>({dryRun:r.dryRun,returnIds:!0,returnDocuments:wo(r.returnDocuments,!0),visibility:r.visibility||"sync",autoGenerateArrayKeys:r.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:r.skipCrossDatasetReferenceValidation}),Ht=r=>r.type==="response",Co=r=>r.body,So=(r,e)=>r.reduce((t,n)=>(t[e(n)]=n,t),Object.create(null)),Io=11264;function On(r,e,t,n,i={},s={}){const o="stega"in s?{...t||{},...typeof s.stega=="boolean"?{enabled:s.stega}:s.stega||{}}:t,a=o.enabled?$s(i):i,l=s.filterResponse===!1?m=>m:m=>m.result,{cache:c,next:d,...p}={useAbortSignal:typeof s.signal<"u",resultSourceMap:o.enabled?"withKeyArraySelector":s.resultSourceMap,...s,returnQuery:s.filterResponse===!1&&s.returnQuery!==!1},y=typeof c<"u"||typeof d<"u"?{...p,fetch:{cache:c,next:d}}:p,f=be(r,e,"query",{query:n,params:a},y);return o.enabled?f.pipe(gs(tt(xr(()=>import("./-pIn0AAZ.js"),[],import.meta.url).then(function(m){return m.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:m})=>m))),F(([m,h])=>{const v=h(m.result,m.resultSourceMap,o);return l({...m,result:v})})):f.pipe(F(l))}function Pe(r,e,t,n={}){const i=(()=>{if(!n.releaseId)return t;const o=fn(t);if(!o){if(bt(t))throw new Error(`The document ID (\`${t}\`) is a draft, but \`options.releaseId\` is set as \`${n.releaseId}\``);return rt(t,n.releaseId)}if(o!==n.releaseId)throw new Error(`The document ID (\`${t}\`) is already a version of \`${o}\` release, but this does not match the provided \`options.releaseId\` (\`${n.releaseId}\`)`);return t})(),s={uri:B(r,"doc",i),json:!0,tag:n.tag,signal:n.signal,query:n.includeAllVersions!==void 0?{includeAllVersions:n.includeAllVersions}:void 0};return it(r,e,s).pipe(qe(Ht),F(o=>{const a=o.body.documents;return a?n.includeAllVersions?a:a[0]:n.includeAllVersions?[]:void 0}))}function Rn(r,e,t,n={}){const i={uri:B(r,"doc",t.join(",")),json:!0,tag:n.tag,signal:n.signal};return it(r,e,i).pipe(qe(Ht),F(s=>{const o=So(s.body.documents||[],a=>a._id);return t.map(a=>o[a]||null)}))}function jn(r,e,t,n={}){return be(r,e,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:t}},n)}function Pn(r,e,t,n){return je("createIfNotExists",t),Ct(r,e,t,"createIfNotExists",n)}function qn(r,e,t,n){return je("createOrReplace",t),Ct(r,e,t,"createOrReplace",n)}function Fn(r,e,t,n,i){return je("createVersion",t),vn("createVersion",t),so(),T(r,e,{actionType:"sanity.action.document.version.create",publishedId:n,document:t},i)}function Dn(r,e,t,n,i,s,o){if(!n)throw new Error("`createVersion()` requires `baseId` when no `document` is provided");if(!t)throw new Error("`createVersion()` requires `publishedId` when `baseId` is provided");dt("createVersion",n),dt("createVersion",t);const a={actionType:"sanity.action.document.version.create",publishedId:t,baseId:n,versionId:i?rt(t,i):hn(t),ifBaseRevisionId:s};return T(r,e,a,o)}function kn(r,e,t,n){return be(r,e,"mutate",{mutations:[{delete:An(t)}]},n)}function Mn(r,e,t,n=!1,i){return T(r,e,{actionType:"sanity.action.document.version.discard",versionId:t,purge:n},i)}function Ln(r,e,t,n){return je("replaceVersion",t),vn("replaceVersion",t),T(r,e,{actionType:"sanity.action.document.version.replace",document:t},n)}function Vn(r,e,t,n,i){return T(r,e,{actionType:"sanity.action.document.version.unpublish",versionId:t,publishedId:n},i)}function Un(r,e,t,n){let i;t instanceof ae||t instanceof ge?i={patch:t.serialize()}:t instanceof ht||t instanceof ft?i=t.serialize():i=t;const s=Array.isArray(i)?i:[i],o=n&&n.transactionId||void 0;return be(r,e,"mutate",{mutations:s,transactionId:o},n)}function T(r,e,t,n){const i=Array.isArray(t)?t:[t],s=n&&n.transactionId||void 0,o=n&&n.skipCrossDatasetReferenceValidation||void 0,a=n&&n.dryRun||void 0;return be(r,e,"actions",{actions:i,transactionId:s,skipCrossDatasetReferenceValidation:o,dryRun:a},n)}function be(r,e,t,n,i={}){const s=t==="mutate",o=t==="actions",a=t==="query",l=s||o?"":Tn(n),c=!s&&!o&&l.length<Io,d=c?l:"",p=i.returnFirst,{timeout:y,token:f,tag:m,headers:h,returnQuery:v,lastLiveEventId:S,cacheMode:C}=i,b=B(r,t,d),$={method:c?"GET":"POST",uri:b,json:!0,body:c?void 0:n,query:s&&Eo(i),timeout:y,headers:h,token:f,tag:m,returnQuery:v,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(S)?S[0]:S,cacheMode:C,canUseCdn:a,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return it(r,e,$).pipe(qe(Ht),F(Co),F(j=>{if(!s)return j;const q=j.results||[];if(i.returnDocuments)return p?q[0]&&q[0].document:q.map(D=>D.document);const R=p?"documentId":"documentIds",N=p?q[0]&&q[0].id:q.map(D=>D.id);return{transactionId:j.transactionId,results:q,[R]:N}}))}function Ct(r,e,t,n,i={}){const s={[n]:t},o=Object.assign({returnFirst:!0,returnDocuments:!0},i);return be(r,e,"mutate",{mutations:[s]},o)}const nt=r=>r.config().dataset!==void 0&&r.config().projectId!==void 0||r.config()["~experimental_resource"]!==void 0,Nn=(r,e)=>nt(r)&&e.startsWith(B(r,"query")),Ao=(r,e)=>nt(r)&&e.startsWith(B(r,"mutate")),_o=(r,e)=>nt(r)&&e.startsWith(B(r,"doc","")),$o=(r,e)=>nt(r)&&e.startsWith(B(r,"listen")),xo=(r,e)=>nt(r)&&e.startsWith(B(r,"history","")),To=(r,e)=>e.startsWith("/data/")||Nn(r,e)||Ao(r,e)||_o(r,e)||$o(r,e)||xo(r,e);function it(r,e,t){const n=t.url||t.uri,i=r.config(),s=typeof t.canUseCdn>"u"?["GET","HEAD"].indexOf(t.method||"GET")>=0&&To(r,n):t.canUseCdn;let o=(t.useCdn??i.useCdn)&&s;const a=t.tag&&i.requestTagPrefix?[i.requestTagPrefix,t.tag].join("."):t.tag||i.requestTagPrefix;if(a&&t.tag!==null&&(t.query={tag:bn(a),...t.query}),["GET","HEAD","POST"].indexOf(t.method||"GET")>=0&&Nn(r,n)){const d=t.resultSourceMap??i.resultSourceMap;d!==void 0&&d!==!1&&(t.query={resultSourceMap:d,...t.query});const p=t.perspective||i.perspective;typeof p<"u"&&(p==="previewDrafts"&&to(),En(p),t.query={perspective:Array.isArray(p)?p.join(","):p,...t.query},(Array.isArray(p)&&p.length>0||p==="previewDrafts"||p==="drafts")&&o&&(o=!1,eo())),t.lastLiveEventId&&(t.query={...t.query,lastLiveEventId:t.lastLiveEventId}),t.returnQuery===!1&&(t.query={returnQuery:"false",...t.query}),o&&t.cacheMode=="noStale"&&(t.query={cacheMode:"noStale",...t.query})}const l=bo(i,Object.assign({},t,{url:Gt(r,n,o)})),c=new O(d=>e(l,i.requester).subscribe(d));return t.signal?c.pipe(Oo(t.signal)):c}function P(r,e,t){return it(r,e,t).pipe(qe(n=>n.type==="response"),F(n=>n.body))}function B(r,e,t){const n=r.config();if(n["~experimental_resource"]){wn(n);const o=Po(n),a=t!==void 0?`${e}/${t}`:e;return`${o}/${a}`.replace(/\/($|\?)/,"$1")}const i=ve(n),s=`/${e}/${i}`;return`/data${t!==void 0?`${s}/${t}`:s}`.replace(/\/($|\?)/,"$1")}function Gt(r,e,t=!1){const{url:n,cdnUrl:i}=r.config();return`${t?i:n}/${e.replace(/^\//,"")}`}function Oo(r){return e=>new O(t=>{const n=()=>t.error(jo(r));if(r&&r.aborted){n();return}const i=e.subscribe(t);return r.addEventListener("abort",n),()=>{r.removeEventListener("abort",n),i.unsubscribe()}})}const Ro=!!globalThis.DOMException;function jo(r){if(Ro)return new DOMException((r==null?void 0:r.reason)??"The operation was aborted.","AbortError");const e=new Error((r==null?void 0:r.reason)??"The operation was aborted.");return e.name="AbortError",e}const Po=r=>{if(!r["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:t}=r["~experimental_resource"];switch(e){case"dataset":{const n=t.split(".");if(n.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${n[0]}/datasets/${n[1]}`}case"canvas":return`/canvases/${t}`;case"media-library":return`/media-libraries/${t}`;case"dashboard":return`/dashboards/${t}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};function Bn(r,e,t){const n=ve(r.config());return P(r,e,{method:"POST",uri:`/agent/action/generate/${n}`,body:t})}function qo(r,e,t){const n=ve(r.config());return P(r,e,{method:"POST",uri:`/agent/action/patch/${n}`,body:t})}function Fo(r,e,t){const n=ve(r.config());return P(r,e,{method:"POST",uri:`/agent/action/prompt/${n}`,body:t})}function Wn(r,e,t){const n=ve(r.config());return P(r,e,{method:"POST",uri:`/agent/action/transform/${n}`,body:t})}function zn(r,e,t){const n=ve(r.config());return P(r,e,{method:"POST",uri:`/agent/action/translate/${n}`,body:t})}var fe,pe;class Do{constructor(e,t){E(this,fe);E(this,pe);w(this,fe,e),w(this,pe,t)}generate(e){return Bn(u(this,fe),u(this,pe),e)}transform(e){return Wn(u(this,fe),u(this,pe),e)}translate(e){return zn(u(this,fe),u(this,pe),e)}}fe=new WeakMap,pe=new WeakMap;var Y,X;class ko{constructor(e,t){E(this,Y);E(this,X);w(this,Y,e),w(this,X,t)}generate(e){return I(Bn(u(this,Y),u(this,X),e))}transform(e){return I(Wn(u(this,Y),u(this,X),e))}translate(e){return I(zn(u(this,Y),u(this,X),e))}prompt(e){return I(Fo(u(this,Y),u(this,X),e))}patch(e){return I(qo(u(this,Y),u(this,X),e))}}Y=new WeakMap,X=new WeakMap;var Be,We;class Mo{constructor(e,t){E(this,Be);E(this,We);w(this,Be,e),w(this,We,t)}upload(e,t,n){return Hn(u(this,Be),u(this,We),e,t,n)}}Be=new WeakMap,We=new WeakMap;var ze,He;class Lo{constructor(e,t){E(this,ze);E(this,He);w(this,ze,e),w(this,He,t)}upload(e,t,n){const i=Hn(u(this,ze),u(this,He),e,t,n);return I(i.pipe(qe(s=>s.type==="response"),F(s=>s.body.document)))}}ze=new WeakMap,He=new WeakMap;function Hn(r,e,t,n,i={}){Gs(t);let s=i.extract||void 0;s&&!s.length&&(s=["none"]);const o=r.config(),a=Uo(i,n),{tag:l,label:c,title:d,description:p,creditLine:y,filename:f,source:m}=a,h={label:c,title:d,description:p,filename:f,meta:s,creditLine:y};return m&&(h.sourceId=m.id,h.sourceName=m.name,h.sourceUrl=m.url),it(r,e,{tag:l,method:"POST",timeout:a.timeout||0,uri:Vo(o,t),headers:a.contentType?{"Content-Type":a.contentType}:{},query:h,body:n})}function Vo(r,e){const t=e==="image"?"images":"files";if(r["~experimental_resource"]){const{type:i,id:s}=r["~experimental_resource"];switch(i){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${s}/assets/${t}`;case"media-library":return`/media-libraries/${s}/upload`;case"dashboard":return`/dashboards/${s}/assets/${t}`;default:throw new Error(`Unsupported resource type: ${i.toString()}`)}}const n=ve(r);return`assets/${t}/${n}`}function Uo(r,e){return typeof File>"u"||!(e instanceof File)?r:Object.assign({filename:r.preserveFilename===!1?void 0:e.name,contentType:e.type},r)}var No=(r,e)=>Object.keys(e).concat(Object.keys(r)).reduce((t,n)=>(t[n]=typeof r[n]>"u"?e[n]:r[n],t),{});const Bo=(r,e)=>e.reduce((t,n)=>(typeof r[n]>"u"||(t[n]=r[n]),t),{}),Gn=sn(()=>xr(()=>import("./BNE2vVB_.js").then(r=>r.b),[],import.meta.url)).pipe(F(({default:r})=>r),vs(1));function Qn(){return function(r){return r.pipe(ct((e,t)=>e instanceof Sn?hs(Ee({type:"reconnect"}),fs(1e3).pipe(me(()=>t))):tn(()=>e)))}}const Wo=14800,zo=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],Ho={includeResult:!0};function Jn(r,e,t={}){const{url:n,token:i,withCredentials:s,requestTagPrefix:o,headers:a}=this.config(),l=t.tag&&o?[o,t.tag].join("."):t.tag,c={...No(t,Ho),tag:l},d=Bo(c,zo),p=Tn({query:r,params:e,options:{tag:l,...d}}),y=`${n}${B(this,"listen",p)}`;if(y.length>Wo)return tn(()=>new Error("Query too large for listener"));const f=c.events?c.events:["mutation"],m={};return s&&(m.withCredentials=!0),(i||a)&&(m.headers={},i&&(m.headers.Authorization=`Bearer ${i}`),a&&Object.assign(m.headers,a)),In(()=>(typeof EventSource>"u"||m.headers?Gn:Ee(EventSource)).pipe(F(h=>new h(y,m))),f).pipe(Qn(),qe(h=>f.includes(h.type)),F(h=>({type:h.type,..."data"in h?h.data:{}})))}function Go(r,e){return Qo(typeof r=="function"?{predicate:r,...e}:r)}function Qo(r){return e=>{let t,n=!1;const{predicate:i,...s}=r,o=e.pipe(bs(l=>{r.predicate(l)&&(n=!0,t=l)}),an(()=>{n=!1,t=void 0}),un(s)),a=new O(l=>{n&&l.next(t),l.complete()});return ps(o,a)}}const Ar="2021-03-25";var ie;class Yn{constructor(e){E(this,ie);w(this,ie,e)}events({includeDrafts:e=!1,tag:t}={}){le("live",u(this,ie).config());const{projectId:n,apiVersion:i,token:s,withCredentials:o,requestTagPrefix:a,headers:l}=u(this,ie).config(),c=i.replace(/^v/,"");if(c!=="X"&&c<Ar)throw new Error(`The live events API requires API version ${Ar} or later. The current API version is ${c}. Please update your API version to use this feature.`);if(e&&!s&&!o)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const d=B(u(this,ie),"live/events"),p=new URL(u(this,ie).getUrl(d,!1)),y=t&&a?[a,t].join("."):t;y&&p.searchParams.set("tag",y),e&&p.searchParams.set("includeDrafts","true");const f={};e&&o&&(f.withCredentials=!0),(e&&s||l)&&(f.headers={},e&&s&&(f.headers.Authorization=`Bearer ${s}`),l&&Object.assign(f.headers,l));const m=`${p.href}::${JSON.stringify(f)}`,h=Ot.get(m);if(h)return h;const v=In(()=>(typeof EventSource>"u"||f.headers?Gn:Ee(EventSource)).pipe(F(b=>new b(p.href,f))),["message","restart","welcome","reconnect","goaway"]),S=Jo(p,{method:"OPTIONS",mode:"cors",credentials:f.withCredentials?"include":"omit",headers:f.headers}).pipe(ct(()=>{throw new Us({projectId:n})})),C=v.pipe(Qn(),me(b=>b.type==="reconnect"?S.pipe(me(()=>Ee(b))):Ee(b)),ct(b=>S.pipe(me(()=>{throw b}))),F(b=>{if(b.type==="message"){const{data:$,...j}=b;return{...j,tags:$.tags}}return b})).pipe(an(()=>Ot.delete(m)),Go({predicate:b=>b.type==="welcome"}));return Ot.set(m,C),C}}ie=new WeakMap;function Jo(r,e){return new O(t=>{const n=new AbortController,i=n.signal;return fetch(r,{...e,signal:n.signal}).then(s=>{t.next(s),t.complete()},s=>{i.aborted||t.error(s)}),()=>n.abort()})}const Ot=new Map;var W,se;class Yo{constructor(e,t){E(this,W);E(this,se);w(this,W,e),w(this,se,t)}create(e,t){return Ce(u(this,W),u(this,se),"PUT",e,t)}edit(e,t){return Ce(u(this,W),u(this,se),"PATCH",e,t)}delete(e){return Ce(u(this,W),u(this,se),"DELETE",e)}list(){le("dataset",u(this,W).config());const e=u(this,W).config(),t=e.projectId;let n="/datasets";return e.useProjectHostname===!1&&(n=`/projects/${t}/datasets`),P(u(this,W),u(this,se),{uri:n,tag:null})}}W=new WeakMap,se=new WeakMap;var U,oe;class Xo{constructor(e,t){E(this,U);E(this,oe);w(this,U,e),w(this,oe,t)}create(e,t){return le("dataset",u(this,U).config()),I(Ce(u(this,U),u(this,oe),"PUT",e,t))}edit(e,t){return le("dataset",u(this,U).config()),I(Ce(u(this,U),u(this,oe),"PATCH",e,t))}delete(e){return le("dataset",u(this,U).config()),I(Ce(u(this,U),u(this,oe),"DELETE",e))}list(){le("dataset",u(this,U).config());const e=u(this,U).config(),t=e.projectId;let n="/datasets";return e.useProjectHostname===!1&&(n=`/projects/${t}/datasets`),I(P(u(this,U),u(this,oe),{uri:n,tag:null}))}}U=new WeakMap,oe=new WeakMap;function Ce(r,e,t,n,i){return le("dataset",r.config()),gn(n),P(r,e,{method:t,uri:`/datasets/${n}`,body:i,tag:null})}var Ie,Ge;class Xn{constructor(e,t){E(this,Ie);E(this,Ge);w(this,Ie,e),w(this,Ge,t)}getPlaybackInfo(e,t={}){var c;const n=(c=u(this,Ie).config()["~experimental_resource"])==null?void 0:c.id,{instanceId:i,libraryId:s}=ta(e),o=s||n;if(!o)throw new Error("Could not determine Media Library ID - you need to provide a valid Media Library ID in the client config or a Media Library GDR");const a=ra(i,o),l=na(t);return P(u(this,Ie),u(this,Ge),{method:"GET",uri:a,query:l})}}Ie=new WeakMap,Ge=new WeakMap;var Qe,Je;class Zo{constructor(e,t){E(this,Qe);E(this,Je);w(this,Qe,e),w(this,Je,t)}getPlaybackInfo(e,t={}){return I(new Xn(u(this,Qe).observable,u(this,Je)).getPlaybackInfo(e,t))}}Qe=new WeakMap,Je=new WeakMap;const Ko=/^media-library:(ml[^:]+):([^:]+)$/;function ea(r){return typeof r=="object"&&"_ref"in r}function ta(r){const e=ea(r)?r._ref:r,t=Ko.exec(e);if(t){const[,n,i]=t;return{libraryId:n,instanceId:i}}if(typeof r=="string"&&r.startsWith("video-"))return{instanceId:r};throw new Error(`Invalid video asset instance identifier "${e}": must be a valid video instance id or a Global Dataset Reference (GDR) to the video asset in the Media Library`)}function ra(r,e){return`/media-libraries/${e}/video/${r}/playback-info`}function na(r){const e={};if(r.transformations){const{thumbnail:t,animated:n,storyboard:i}=r.transformations;t&&(t.width&&(e.thumbnailWidth=t.width),t.height&&(e.thumbnailHeight=t.height),t.time!==void 0&&(e.thumbnailTime=t.time),t.fit&&(e.thumbnailFit=t.fit),t.format&&(e.thumbnailFormat=t.format)),n&&(n.width&&(e.animatedWidth=n.width),n.height&&(e.animatedHeight=n.height),n.start!==void 0&&(e.animatedStart=n.start),n.end!==void 0&&(e.animatedEnd=n.end),n.fps&&(e.animatedFps=n.fps),n.format&&(e.animatedFormat=n.format)),i&&i.format&&(e.storyboardFormat=i.format)}return r.expiration&&(e.expiration=r.expiration),e}var Ae,_e;class ia{constructor(e,t){E(this,Ae);E(this,_e);w(this,Ae,e),w(this,_e,t)}list(e){const t={},n="/projects";return(e==null?void 0:e.includeMembers)===!1&&(t.includeMembers="false"),e!=null&&e.organizationId&&(t.organizationId=e.organizationId),P(u(this,Ae),u(this,_e),{uri:n,query:t})}getById(e){return P(u(this,Ae),u(this,_e),{uri:`/projects/${e}`})}}Ae=new WeakMap,_e=new WeakMap;var $e,xe;class sa{constructor(e,t){E(this,$e);E(this,xe);w(this,$e,e),w(this,xe,t)}list(e){const t={},n="/projects";return(e==null?void 0:e.includeMembers)===!1&&(t.includeMembers="false"),e!=null&&e.organizationId&&(t.organizationId=e.organizationId),I(P(u(this,$e),u(this,xe),{uri:n,query:t}))}getById(e){return I(P(u(this,$e),u(this,xe),{uri:`/projects/${e}`}))}}$e=new WeakMap,xe=new WeakMap;const _r=js("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),pt=(r,e)=>e?rt(r,e):hn(r);function yt(r,{releaseId:e,publishedId:t,document:n}){if(t&&n._id){const i=pt(t,e);return Js(i,n),i}if(n._id){const i=bt(n._id),s=wt(n._id);if(!i&&!s)throw new Error(`\`${r}()\` requires a document with an \`_id\` that is a version or draft ID`);if(e){if(i)throw new Error(`\`${r}()\` was called with a document ID (\`${n._id}\`) that is a draft ID, but a release ID (\`${e}\`) was also provided.`);const o=fn(n._id);if(o!==e)throw new Error(`\`${r}()\` was called with a document ID (\`${n._id}\`) that is a version ID, but the release ID (\`${e}\`) does not match the document's version ID (\`${o}\`).`)}return n._id}if(t)return pt(t,e);throw new Error(`\`${r}()\` requires either a publishedId or a document with an \`_id\``)}const oa=(r,e)=>{if(typeof r=="object"&&r!==null&&("releaseId"in r||"metadata"in r)){const{releaseId:t=_r(),metadata:n={}}=r;return[t,n,e]}return[_r(),{},r]},Zn=(r,e)=>{const[t,n,i]=oa(r,e),s={...n,releaseType:n.releaseType||"undecided"};return{action:{actionType:"sanity.action.release.create",releaseId:t,metadata:s},options:i}};var k,M;class aa{constructor(e,t){E(this,k);E(this,M);w(this,k,e),w(this,M,t)}get({releaseId:e},t){return Pe(u(this,k),u(this,M),`_.releases.${e}`,t)}create(e,t){const{action:n,options:i}=Zn(e,t),{releaseId:s,metadata:o}=n;return T(u(this,k),u(this,M),n,i).pipe(F(a=>({...a,releaseId:s,metadata:o})))}edit({releaseId:e,patch:t},n){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:t};return T(u(this,k),u(this,M),i,n)}publish({releaseId:e},t){const n={actionType:"sanity.action.release.publish",releaseId:e};return T(u(this,k),u(this,M),n,t)}archive({releaseId:e},t){const n={actionType:"sanity.action.release.archive",releaseId:e};return T(u(this,k),u(this,M),n,t)}unarchive({releaseId:e},t){const n={actionType:"sanity.action.release.unarchive",releaseId:e};return T(u(this,k),u(this,M),n,t)}schedule({releaseId:e,publishAt:t},n){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:t};return T(u(this,k),u(this,M),i,n)}unschedule({releaseId:e},t){const n={actionType:"sanity.action.release.unschedule",releaseId:e};return T(u(this,k),u(this,M),n,t)}delete({releaseId:e},t){const n={actionType:"sanity.action.release.delete",releaseId:e};return T(u(this,k),u(this,M),n,t)}fetchDocuments({releaseId:e},t){return jn(u(this,k),u(this,M),e,t)}}k=new WeakMap,M=new WeakMap;var L,V;class ua{constructor(e,t){E(this,L);E(this,V);w(this,L,e),w(this,V,t)}get({releaseId:e},t){return I(Pe(u(this,L),u(this,V),`_.releases.${e}`,t))}async create(e,t){const{action:n,options:i}=Zn(e,t),{releaseId:s,metadata:o}=n;return{...await I(T(u(this,L),u(this,V),n,i)),releaseId:s,metadata:o}}edit({releaseId:e,patch:t},n){const i={actionType:"sanity.action.release.edit",releaseId:e,patch:t};return I(T(u(this,L),u(this,V),i,n))}publish({releaseId:e},t){const n={actionType:"sanity.action.release.publish",releaseId:e};return I(T(u(this,L),u(this,V),n,t))}archive({releaseId:e},t){const n={actionType:"sanity.action.release.archive",releaseId:e};return I(T(u(this,L),u(this,V),n,t))}unarchive({releaseId:e},t){const n={actionType:"sanity.action.release.unarchive",releaseId:e};return I(T(u(this,L),u(this,V),n,t))}schedule({releaseId:e,publishAt:t},n){const i={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:t};return I(T(u(this,L),u(this,V),i,n))}unschedule({releaseId:e},t){const n={actionType:"sanity.action.release.unschedule",releaseId:e};return I(T(u(this,L),u(this,V),n,t))}delete({releaseId:e},t){const n={actionType:"sanity.action.release.delete",releaseId:e};return I(T(u(this,L),u(this,V),n,t))}fetchDocuments({releaseId:e},t){return I(jn(u(this,L),u(this,V),e,t))}}L=new WeakMap,V=new WeakMap;var Ye,Xe;class ca{constructor(e,t){E(this,Ye);E(this,Xe);w(this,Ye,e),w(this,Xe,t)}getById(e){return P(u(this,Ye),u(this,Xe),{uri:`/users/${e}`})}}Ye=new WeakMap,Xe=new WeakMap;var Ze,Ke;class la{constructor(e,t){E(this,Ze);E(this,Ke);w(this,Ze,e),w(this,Ke,t)}getById(e){return I(P(u(this,Ze),u(this,Ke),{uri:`/users/${e}`}))}}Ze=new WeakMap,Ke=new WeakMap;var Z,_;const mt=class mt{constructor(e,t=ke){g(this,"assets");g(this,"datasets");g(this,"live");g(this,"mediaLibrary");g(this,"projects");g(this,"users");g(this,"agent");g(this,"releases");E(this,Z);E(this,_);g(this,"listen",Jn);this.config(t),w(this,_,e),this.assets=new Mo(this,u(this,_)),this.datasets=new Yo(this,u(this,_)),this.live=new Yn(this),this.mediaLibrary={video:new Xn(this,u(this,_))},this.projects=new ia(this,u(this,_)),this.users=new ca(this,u(this,_)),this.agent={action:new Do(this,u(this,_))},this.releases=new aa(this,u(this,_))}clone(){return new mt(u(this,_),this.config())}config(e){if(e===void 0)return{...u(this,Z)};if(u(this,Z)&&u(this,Z).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return w(this,Z,Cn(e,u(this,Z)||{})),this}withConfig(e){const t=this.config();return new mt(u(this,_),{...t,...e,stega:{...t.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,t,n){return On(this,u(this,_),u(this,Z).stega,e,t,n)}getDocument(e,t){if((t==null?void 0:t.includeAllVersions)===!0)return Pe(this,u(this,_),e,{...t,includeAllVersions:!0});const n={signal:t==null?void 0:t.signal,tag:t==null?void 0:t.tag,releaseId:t==null?void 0:t.releaseId,...t&&"includeAllVersions"in t?{includeAllVersions:!1}:{}};return Pe(this,u(this,_),e,n)}getDocuments(e,t){return Rn(this,u(this,_),e,t)}create(e,t){return Ct(this,u(this,_),e,"create",t)}createIfNotExists(e,t){return Pn(this,u(this,_),e,t)}createOrReplace(e,t){return qn(this,u(this,_),e,t)}createVersion({document:e,publishedId:t,releaseId:n,baseId:i,ifBaseRevisionId:s},o){if(!e)return Dn(this,u(this,_),t,i,n,s,o);const a=yt("createVersion",{document:e,publishedId:t,releaseId:n}),l={...e,_id:a},c=t||Et(e._id);return Fn(this,u(this,_),l,c,o)}delete(e,t){return kn(this,u(this,_),e,t)}discardVersion({releaseId:e,publishedId:t},n,i){const s=pt(t,e);return Mn(this,u(this,_),s,n,i)}replaceVersion({document:e,publishedId:t,releaseId:n},i){const s=yt("replaceVersion",{document:e,publishedId:t,releaseId:n}),o={...e,_id:s};return Ln(this,u(this,_),o,i)}unpublishVersion({releaseId:e,publishedId:t},n){const i=rt(t,e);return Vn(this,u(this,_),i,t,n)}mutate(e,t){return Un(this,u(this,_),e,t)}patch(e,t){return new ge(e,t,this)}transaction(e){return new ft(e,this)}action(e,t){return T(this,u(this,_),e,t)}request(e){return P(this,u(this,_),e)}getUrl(e,t){return Gt(this,e,t)}getDataUrl(e,t){return B(this,e,t)}};Z=new WeakMap,_=new WeakMap;let qt=mt;var K,A;const gt=class gt{constructor(e,t=ke){g(this,"assets");g(this,"datasets");g(this,"live");g(this,"mediaLibrary");g(this,"projects");g(this,"users");g(this,"agent");g(this,"releases");g(this,"observable");E(this,K);E(this,A);g(this,"listen",Jn);this.config(t),w(this,A,e),this.assets=new Lo(this,u(this,A)),this.datasets=new Xo(this,u(this,A)),this.live=new Yn(this),this.mediaLibrary={video:new Zo(this,u(this,A))},this.projects=new sa(this,u(this,A)),this.users=new la(this,u(this,A)),this.agent={action:new ko(this,u(this,A))},this.releases=new ua(this,u(this,A)),this.observable=new qt(e,t)}clone(){return new gt(u(this,A),this.config())}config(e){if(e===void 0)return{...u(this,K)};if(u(this,K)&&u(this,K).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),w(this,K,Cn(e,u(this,K)||{})),this}withConfig(e){const t=this.config();return new gt(u(this,A),{...t,...e,stega:{...t.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,t,n){return I(On(this,u(this,A),u(this,K).stega,e,t,n))}getDocument(e,t){if((t==null?void 0:t.includeAllVersions)===!0)return I(Pe(this,u(this,A),e,{...t,includeAllVersions:!0}));const n={signal:t==null?void 0:t.signal,tag:t==null?void 0:t.tag,releaseId:t==null?void 0:t.releaseId,...t&&"includeAllVersions"in t?{includeAllVersions:!1}:{}};return I(Pe(this,u(this,A),e,n))}getDocuments(e,t){return I(Rn(this,u(this,A),e,t))}create(e,t){return I(Ct(this,u(this,A),e,"create",t))}createIfNotExists(e,t){return I(Pn(this,u(this,A),e,t))}createOrReplace(e,t){return I(qn(this,u(this,A),e,t))}createVersion({document:e,publishedId:t,releaseId:n,baseId:i,ifBaseRevisionId:s},o){if(!e)return _t(Dn(this,u(this,A),t,i,n,s,o));const a=yt("createVersion",{document:e,publishedId:t,releaseId:n}),l={...e,_id:a},c=t||Et(e._id);return _t(Fn(this,u(this,A),l,c,o))}delete(e,t){return I(kn(this,u(this,A),e,t))}discardVersion({releaseId:e,publishedId:t},n,i){const s=pt(t,e);return I(Mn(this,u(this,A),s,n,i))}replaceVersion({document:e,publishedId:t,releaseId:n},i){const s=yt("replaceVersion",{document:e,publishedId:t,releaseId:n}),o={...e,_id:s};return _t(Ln(this,u(this,A),o,i))}unpublishVersion({releaseId:e,publishedId:t},n){const i=rt(t,e);return I(Vn(this,u(this,A),i,t,n))}mutate(e,t){return I(Un(this,u(this,A),e,t))}patch(e,t){return new ae(e,t,this)}transaction(e){return new ht(e,this)}action(e,t){return I(T(this,u(this,A),e,t))}request(e){return I(P(this,u(this,A),e))}dataRequest(e,t,n){return I(be(this,u(this,A),e,t,n))}getUrl(e,t){return Gt(this,e,t)}getDataUrl(e,t){return B(this,e,t)}};K=new WeakMap,A=new WeakMap;let Ft=gt;function da(r,e){return{requester:wr(r),createClient:t=>{const n=wr(r,{ignoreWarnings:t.ignoreWarnings});return new e((i,s)=>(s||n)({maxRedirects:0,maxRetries:t.maxRetries,retryDelay:t.retryDelay,lineage:t.lineage,...i}),t)}}}var ha=[];const fa=da(ha,Ft),pa=fa.createClient,ya="n5mud2tg",ma="production",ga="2024-01-01",va=pa({projectId:ya,dataset:ma,apiVersion:ga,useCdn:!0});async function G(r,e,t=null){try{return await va.fetch(r,e)}catch(n){return console.warn("Sanity fetch failed:",n),t}}async function xa(){return await G(`
    *[_type == "project"] | order(order asc) {
      _id,
      title,
      description,
      "slug": slug.current,
      "image": image.asset->url,
      featured,
      order
    }
  `,void 0,[])}async function Ta(){return await G(`
    *[_type == "project" && featured == true] | order(order asc) {
      _id,
      title,
      description,
      "slug": slug.current,
      "image": image.asset->url,
      featured,
      order
    }
  `,void 0,[])}async function Oa(r){return await G(`
    *[_type == "project" && slug.current == $slug][0] {
      _id,
      title,
      description,
      "slug": slug.current,
      "image": image.asset->url,
      featured,
      order,
      overview,
      technologies,
      features,
      challenges,
      solution,
      outcome,
      liveUrl,
      githubUrl
    }
  `,{slug:r},null)}async function Ra(){return await G(`
    *[_type == "hero"][0] {
      introduction,
      "headshotImage": headshotImage.asset->url
    }
  `,void 0,null)}async function ja(){return await G(`
    *[_type == "testimonial"] | order(order asc) {
      _id,
      name,
      position,
      company,
      message,
      "image": image.asset->url,
      order
    }
  `,void 0,[])}async function Pa(){return await G(`
    *[_type == "aboutPage"][0] {
      pageTitle,
      sections[] {
        _type,
        _type == "textSection" => {
          content
        },
        _type == "imageSection" => {
          "image": image.asset->url,
          alt,
          caption
        }
      }
    }
  `,void 0,null)}async function qa(){return await G(`
    *[_type == "skill"] | order(order asc) {
      _id,
      name,
      "iconLight": iconLight.asset->url,
      "iconDark": iconDark.asset->url,
      order
    }
  `,void 0,[])}async function Fa(){return await G(`
    *[_type == "socialLink"] | order(order asc) {
      _id,
      platform,
      url,
      svgViewBox,
      svgPath,
      order
    }
  `,void 0,[])}async function Da(){return await G(`
    *[_type == "resume"][0] {
      summary,
      education,
      experience,
      skills,
      activities,
      certifications,
      footnotes
    }
  `,void 0,null)}async function ka(){return await G(`
    *[_type == "haiku"] | order(order asc) {
      _id,
      title,
      line1,
      line2,
      line3,
      order
    }
  `,void 0,[])}export{$a as C,xa as a,Da as b,ka as c,Oa as d,Sa as e,Ra as f,Pa as g,ja as h,cn as i,Ta as j,qa as k,Fa as l,Ia as o,Aa as u};
